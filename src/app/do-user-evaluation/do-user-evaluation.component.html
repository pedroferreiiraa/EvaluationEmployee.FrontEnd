<div class="min-h-screen bg-gray-50  ">
  <div class="container mx-auto bg-white p-6 rounded-lg shadow-md">
    <h2 class="text-2xl font-semibold text-gray-700 mb-6">Autoavaliação</h2>

    <div class=" max-w-5xl mb-3 p-4 border rounded-lg bg-gray-50 shadow-md">
      <p class="font-semibold mb-2">Preenchimento:</p>
      <ul class="list-disc pl-5 mb-2">
        <li>Avaliado: Preencha o campo vazio com notas de 1 a 10 para cada indicador;</li>
        <li>Leia atentamente a descrição de cada indicador e avalie o seu desempenho.</li>
        <li>O preenchimento de todos os indicadores expostos é obrigatório.</li>
      </ul>
      <p class="font-semibold mb-2">Níveis de Escala:</p>
      <table class="w-full text-left border-collapse">
        <thead>
          <tr>
            <th class="border-b-2 pb-2">NOTAS</th>
            <th class="border-b-2 pb-2">NÍVEL</th>
          </tr>
        </thead>
        <tbody>
          <tr>
            <td class="py-2 border-b">1, 2, 3 e 4</td>
            <td class="py-2 border-b">Insatisfatório</td>
          </tr>
          <tr>
            <td class="py-2 border-b">5 e 6</td>
            <td class="py-2 border-b">Regular</td>
          </tr>
          <tr>
            <td class="py-2 border-b">7 e 8</td>
            <td class="py-2 border-b">Bom</td>
          </tr>
          <tr>
            <td class="py-2">9 e 10</td>
            <td class="py-2">Excelente</td>
          </tr>
        </tbody>
      </table>
    </div>

    
    <form [formGroup]="evaluationForm" (ngSubmit)="submitEvaluation()">
      <div *ngFor="let question of questions; let i = index" class="mb-4">
        <label [for]="'question-' + question.id" class="block text-gray-700 font-medium mb-2">
          {{ question.text }}
          {{ question.topic }}
        </label>
        <input 
          type="number" 
          [id]="'question-' + question.id"
          [min]="0" 
          [max]="10" 
          [value]="answers[i]?.answerNumber" 
          (input)="updateAnswer(i, $event)"
          class="w-22 px-4 py-2 border border-gray-300 rounded-lg focus:outline-none focus:ring-2 focus:ring-blue-500"
        />
      </div>

      <div class="mt-6 p-4 border rounded-lg bg-gray-50 shadow-md">
        <h3 class="font-semibold text-lg mb-4 text-gray-700">Pontos de Melhoria <span class="text-gray-700">(Para preenchimento juntamente com o lider)</span></h3>
        <textarea formControlName="improvePoints" class="w-96 h-48 p-2 border rounded-lg mb-4"></textarea>
    
        <h3 class="font-semibold text-lg mb-4 text-gray-700">Plano de Desenvolvimento Individual (PDI)</h3>
        <textarea formControlName="pdi" class="w-96 h-48  p-2 border rounded-lg mb-4"></textarea>
    
        <h3 class="font-semibold text-lg mb-4 text-gray-700">Metas</h3>
        <textarea formControlName="goals" class="w-96 h-48  p-2 border rounded-lg mb-4"></textarea>
    
        <h3 class="font-semibold text-lg mb-4 text-gray-700">ALINHAMENTO SEMESTRAL (Considerações)</h3>

        <div class="mb-4">
          <label>Data:</label>
          <input type="date" class="border rounded-lg" formControlName="date" (ngModelChange)="updateSixMonthAlignment()" />
        </div>

        <div class="mb-4">
          <label>Plano de melhoria traçado está em andamento?</label><br/>
          <label>
            <input type="radio" name="planoAndamento" value="SIM" formControlName="planoAndamento" (change)="updateSixMonthAlignment()" /> SIM
          </label>
          <label>
            <input type="radio" name="planoAndamento" value="NÃO" formControlName="planoAndamento" (change)="updateSixMonthAlignment()" /> NÃO
          </label>
        </div>

        <div class="mb-4">
          <label>Justificativa:</label><br/>
          <textarea class="w-96 h-20 p-2 border rounded-lg" formControlName="justificativaPlano" (input)="updateSixMonthAlignment()"></textarea>
        </div>

        <div class="mb-4">
          <label>Metas estabelecidas estão em andamento?</label><br/>
          <label>
            <input type="radio" name="metasAndamento" value="SIM" formControlName="metasAndamento" (change)="updateSixMonthAlignment()" /> SIM
          </label>
          <label>
            <input type="radio" name="metasAndamento" value="NÃO" formControlName="metasAndamento" (change)="updateSixMonthAlignment()" /> NÃO
          </label>
        </div>

        <div class="mb-4">
          <label>Justifique:</label><br/>
          <textarea class="w-96 h-20 p-2 border rounded-lg" formControlName="justificativaMetas" (input)="updateSixMonthAlignment()"></textarea>
        </div>

        <div class="mb-4">
          <label>Resultados do Semestre considerados:</label><br/>
          <label>
            <input type="radio" name="resultadosSemestre" value="Muito Satisfatório" formControlName="resultadosSemestre" (change)="updateSixMonthAlignment()" /> Muito Satisfatório
          </label><br/>
          <label>
            <input type="radio" name="resultadosSemestre" value="Satisfatório" formControlName="resultadosSemestre" (change)="updateSixMonthAlignment()" /> Satisfatório
          </label><br/>
          <label>
            <input type="radio" name="resultadosSemestre" value="Insatisfatório" formControlName="resultadosSemestre" (change)="updateSixMonthAlignment()" /> Insatisfatório
          </label>
        </div>

        <div class="mb-4">
          <label>Considerações sobre a análise e alinhamentos:</label><br/>
          <textarea class="w-96 h-20 p-2 border rounded-lg" formControlName="consideracoesAnalise" (input)="updateSixMonthAlignment()"></textarea>
        </div>

        <!-- Input oculto para manter o formControlName -->
        <input type="hidden" formControlName="sixMonthAlignment" />


      </div>

      <button type="submit" 
              class="w-32 mt-4 bg-blue-500 text-white font-semibold py-2 rounded-lg shadow-md hover:bg-blue-600 transition">
        Enviar Avaliação
      </button>
    </form>


    
  </div>
</div>
